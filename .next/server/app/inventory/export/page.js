(()=>{var e={};e.id=7804,e.ids=[7804],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61154:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>l});var d=r(50482),s=r(69108),a=r(62563),n=r.n(a),o=r(68300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let l=["",{children:["inventory",{children:["export",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,34923)),"C:\\Users\\mubar\\Desktop\\MADAR\\app\\inventory\\export\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,59515)),"C:\\Users\\mubar\\Desktop\\MADAR\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mubar\\Desktop\\MADAR\\app\\inventory\\export\\page.tsx"],x="/inventory/export/page",p={require:r,loadChunk:()=>Promise.resolve()},u=new d.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/inventory/export/page",pathname:"/inventory/export",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},27247:(e,t,r)=>{Promise.resolve().then(r.bind(r,24982))},24982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var d=r(95344),s=r(47983),a=r.n(s);function n({data:e}){let t=e.settings.currency||"USD",r="USD"===t?"$":t;return(0,d.jsxs)(d.Fragment,{children:[d.jsx(a(),{id:"6d0d3d2ab5746add",children:"@media print{body *{visibility:hidden}#print-content,#print-content *{visibility:visible}#print-content{position:absolute;left:0;top:0;width:100%;padding:0;margin:0}#print-content *{background:white!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}#print-content{color:black!important}.no-print{display:none!important}table{page-break-inside:avoid}thead{display:table-header-group}tr{page-break-inside:avoid}}@media screen{.print-page{min-height:100vh;background:-webkit-linear-gradient(top,#f3f4f6 0%,#fff 100%);background:-moz-linear-gradient(top,#f3f4f6 0%,#fff 100%);background:-o-linear-gradient(top,#f3f4f6 0%,#fff 100%);background:linear-gradient(to bottom,#f3f4f6 0%,#fff 100%)}}"}),d.jsx("div",{className:"jsx-6d0d3d2ab5746add print-page",children:(0,d.jsxs)("div",{id:"print-content",className:"jsx-6d0d3d2ab5746add max-w-7xl mx-auto p-8 bg-white shadow-lg my-8",children:[(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add no-print mb-6 flex justify-between items-center border-b pb-4",children:[(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add",children:[d.jsx("h1",{className:"jsx-6d0d3d2ab5746add text-2xl font-bold text-gray-800",children:"Inventory Report Preview"}),d.jsx("p",{className:"jsx-6d0d3d2ab5746add text-sm text-gray-500",children:"Press Ctrl+P or click Print to save as PDF"})]}),(0,d.jsxs)("button",{onClick:()=>window.print(),className:"jsx-6d0d3d2ab5746add px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center gap-2",children:[d.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-6d0d3d2ab5746add w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z",className:"jsx-6d0d3d2ab5746add"})}),"Print / Save as PDF"]})]}),(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add text-center mb-8 border-b pb-6",children:[d.jsx("h1",{className:"jsx-6d0d3d2ab5746add text-3xl font-bold text-gray-900 mb-2",children:e.settings.system_name}),d.jsx("h2",{className:"jsx-6d0d3d2ab5746add text-xl font-semibold text-gray-700 mb-4",children:"Inventory Report"}),(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add text-sm text-gray-600 space-y-1",children:[(0,d.jsxs)("p",{className:"jsx-6d0d3d2ab5746add",children:[d.jsx("strong",{className:"jsx-6d0d3d2ab5746add",children:"Generated:"})," ",new Date().toLocaleString()]}),e.filters.search&&(0,d.jsxs)("p",{className:"jsx-6d0d3d2ab5746add",children:[d.jsx("strong",{className:"jsx-6d0d3d2ab5746add",children:"Search Filter:"}),' "',e.filters.search,'"']}),e.filters.categoryName&&(0,d.jsxs)("p",{className:"jsx-6d0d3d2ab5746add",children:[d.jsx("strong",{className:"jsx-6d0d3d2ab5746add",children:"Category Filter:"})," ",e.filters.categoryName]})]})]}),(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add grid grid-cols-3 gap-6 mb-8",children:[(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add border border-gray-200 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"jsx-6d0d3d2ab5746add text-3xl font-bold text-indigo-600 mb-1",children:e.stats.totalProducts}),d.jsx("div",{className:"jsx-6d0d3d2ab5746add text-sm text-gray-600 font-medium",children:"Total Products"})]}),(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add border border-gray-200 rounded-lg p-4 text-center",children:[d.jsx("div",{className:"jsx-6d0d3d2ab5746add text-3xl font-bold text-rose-600 mb-1",children:e.stats.lowStockItems}),d.jsx("div",{className:"jsx-6d0d3d2ab5746add text-sm text-gray-600 font-medium",children:"Low Stock Items"})]}),(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add border border-gray-200 rounded-lg p-4 text-center",children:[(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add text-3xl font-bold text-green-600 mb-1",children:[r,e.stats.totalValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsx("div",{className:"jsx-6d0d3d2ab5746add text-sm text-gray-600 font-medium",children:"Total Inventory Value"})]})]}),(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add mb-8",children:[d.jsx("h3",{className:"jsx-6d0d3d2ab5746add text-lg font-bold text-gray-800 mb-4",children:"Inventory Details"}),(0,d.jsxs)("table",{className:"jsx-6d0d3d2ab5746add w-full border-collapse border border-gray-300",children:[d.jsx("thead",{className:"jsx-6d0d3d2ab5746add",children:(0,d.jsxs)("tr",{className:"jsx-6d0d3d2ab5746add bg-gray-100 border-b-2 border-gray-300",children:[d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Product Name"}),d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"SKU"}),d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Category"}),d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Quantity"}),d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Cost Price"}),d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Selling Price"}),d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Total Value"}),d.jsx("th",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"Status"})]})}),(0,d.jsxs)("tbody",{className:"jsx-6d0d3d2ab5746add",children:[e.items.map((e,t)=>{let s=Number(e.product.cost_price),a=Number(e.product.selling_price),n=s*e.quantity,o=e.quantity<=e.reorder_level;return(0,d.jsxs)("tr",{className:"jsx-6d0d3d2ab5746add "+((t%2==0?"bg-white":"bg-gray-50")||""),children:[d.jsx("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-sm font-medium text-gray-900",children:e.product.name}),d.jsx("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-sm text-gray-600 font-mono",children:e.product.sku}),d.jsx("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-sm text-gray-600",children:e.product.category.category_name}),d.jsx("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-sm text-right font-semibold",children:d.jsx("span",{className:"jsx-6d0d3d2ab5746add "+((o?"text-rose-600":"text-gray-900")||""),children:e.quantity})}),(0,d.jsxs)("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-sm text-right text-gray-700",children:[r,s.toFixed(2)]}),(0,d.jsxs)("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-sm text-right text-gray-700",children:[r,a.toFixed(2)]}),(0,d.jsxs)("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-sm text-right font-semibold text-gray-900",children:[r,n.toFixed(2)]}),d.jsx("td",{className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-2 text-center",children:o?d.jsx("span",{className:"jsx-6d0d3d2ab5746add inline-block px-2 py-1 text-xs font-bold text-rose-700 bg-rose-100 border border-rose-300 rounded",children:"LOW STOCK"}):d.jsx("span",{className:"jsx-6d0d3d2ab5746add inline-block px-2 py-1 text-xs font-bold text-green-700 bg-green-100 border border-green-300 rounded",children:"IN STOCK"})})]},e.inventory_id)}),0===e.items.length&&d.jsx("tr",{className:"jsx-6d0d3d2ab5746add",children:d.jsx("td",{colSpan:8,className:"jsx-6d0d3d2ab5746add border border-gray-300 px-4 py-8 text-center text-gray-500",children:"No inventory items found matching the current filters."})})]})]})]}),(0,d.jsxs)("div",{className:"jsx-6d0d3d2ab5746add text-center text-sm text-gray-500 border-t pt-6 mt-8",children:[(0,d.jsxs)("p",{className:"jsx-6d0d3d2ab5746add",children:["This report was generated from ",e.settings.system_name]}),(0,d.jsxs)("p",{className:"jsx-6d0d3d2ab5746add text-xs mt-1",children:["Generated on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})]})]})})]})}r(3729)},29408:()=>{},18630:(e,t,r)=>{r(29408);var d=r(3729),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(d);function a(e,t){for(var r=0;r<t.length;r++){var d=t[r];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}var n="undefined"!=typeof process&&process.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,r=t.name,d=void 0===r?"stylesheet":r,s=t.optimizeForSpeed,a=void 0===s?n:s;l(o(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",l("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){return l(o(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},r.replaceRule=function(e,t){this._optimizeForSpeed;var r=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(d){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}return e},r.deleteRule=function(e){this._serverSheet.deleteRule(e)},r.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},r.cssRules=function(){return this._serverSheet.cssRules},r.makeStyleTag=function(e,t,r){t&&l(o(t),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+e,""),t&&d.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return r?s.insertBefore(d,r):s.appendChild(d),d},a(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),t&&a(e,t),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},x={};function p(e,t){if(!t)return"jsx-"+e;var r=String(t),d=e+r;return x[d]||(x[d]="jsx-"+c(e+"-"+r)),x[d]}function u(e,t){var r=e+(t=t.replace(/\/style/gi,"\\/style"));return x[r]||(x[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),x[r]}var m=d.createContext(null);m.displayName="StyleSheetContext",s.default.useInsertionEffect||s.default.useLayoutEffect;var b=void 0;function h(e){var t=b||d.useContext(m);return t&&t.add(e),null}h.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},t.style=h},47983:(e,t,r)=>{"use strict";e.exports=r(18630).style},34923:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var d=r(25036),s=r(53524);r(40002);let a=(0,r(86843).createProxy)(String.raw`C:\Users\mubar\Desktop\MADAR\app\inventory\export\InventoryExportClient.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=new s.PrismaClient;async function c(e){let t=e.search||"",r=e.category&&"all"!==e.category?Number(e.category):void 0,[d,s,a]=await Promise.all([l.inventory.findMany({where:{branch_id:1,product:{AND:[t?{OR:[{name:{contains:t}},{sku:{contains:t}}]}:{},r?{category_id:r}:{}]}},include:{product:{include:{category:!0}},branch:!0},orderBy:{product_id:"asc"}}),l.setting.findFirst(),l.category.findMany({orderBy:{category_name:"asc"}})]),n=d.length,o=d.filter(e=>e.quantity<=e.reorder_level).length,i=d.reduce((e,t)=>e+Number(t.product.cost_price)*t.quantity,0);return{items:d.map(e=>({...e,product:{...e.product,cost_price:e.product.cost_price.toString(),selling_price:e.product.selling_price.toString()}})),settings:s||{system_name:"MADAR POS",currency:"USD"},categories:a,filters:{search:t,categoryId:r,categoryName:r?a.find(e=>e.category_id===r)?.category_name:null},stats:{totalProducts:n,lowStockItems:o,totalValue:i}}}async function x({searchParams:e}){let t=await c(e);return d.jsx(i,{data:t})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),d=t.X(0,[1638,1747,8092],()=>r(61154));module.exports=d})();