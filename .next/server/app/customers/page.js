(()=>{var e={};e.id=374,e.ids=[374],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},58766:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(50482),a=t(69108),o=t(62563),i=t.n(o),l=t(68300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(s,n);let d=["",{children:["customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,53909)),"C:\\Users\\mubar\\Desktop\\MADAR\\app\\customers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,59515)),"C:\\Users\\mubar\\Desktop\\MADAR\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mubar\\Desktop\\MADAR\\app\\customers\\page.tsx"],m="/customers/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/customers/page",pathname:"/customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},86807:(e,s,t)=>{Promise.resolve().then(t.bind(t,32533))},32533:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(95344),a=t(3729),o=t(51838),i=t(89895),l=t(28765),n=t(40626),d=t(71206),c=t(80508),m=t(46327),x=t(56506),p=t(47983),u=t.n(p),b=t(14513);function f({isOpen:e,onClose:s,customer:t,onSuccess:o}){let[i,l]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[f,h]=(0,a.useState)(!1),[j,g]=(0,a.useState)("");(0,a.useEffect)(()=>{t&&e&&(l(t.full_name),d(t.phone||""),m(t.email||""),p(t.address||""))},[t,e]);let y=async e=>{e.preventDefault(),g(""),h(!0);try{let e=await fetch(`/api/customers/${t?.customer_id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:i,phone:n||null,email:c||null,address:x||null})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to update customer");o(),s()}catch(e){g(e.message)}finally{h(!1)}};return e&&t?(0,r.jsxs)(r.Fragment,{children:[r.jsx(u(),{id:"23214182e0f186a5",children:".modal-overlay.jsx-23214182e0f186a5{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:9999;padding:1rem}.modal-content.jsx-23214182e0f186a5{background:white;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 20px 60px rgba(0,0,0,.3);-moz-box-shadow:0 20px 60px rgba(0,0,0,.3);box-shadow:0 20px 60px rgba(0,0,0,.3);width:100%;max-width:500px;max-height:90vh;overflow-y:auto}.modal-header.jsx-23214182e0f186a5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:1.5rem;border-bottom:1px solid#e5e7eb}.modal-title.jsx-23214182e0f186a5{font-size:1.25rem;font-weight:700;color:#111827;margin:0}.modal-close.jsx-23214182e0f186a5{background:none;border:none;cursor:pointer;padding:.5rem;color:#6b7280;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.modal-close.jsx-23214182e0f186a5:hover{background:#f3f4f6;color:#111827}.modal-body.jsx-23214182e0f186a5{padding:1.5rem}.modal-footer.jsx-23214182e0f186a5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.75rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:1.5rem;border-top:1px solid#e5e7eb;background:#f9fafb;-webkit-border-radius:0 0 12px 12px;-moz-border-radius:0 0 12px 12px;border-radius:0 0 12px 12px}.form-group.jsx-23214182e0f186a5{margin-bottom:1.25rem}.form-label.jsx-23214182e0f186a5{display:block;font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.5rem}.form-input.jsx-23214182e0f186a5{width:100%;padding:.625rem .875rem;border:1px solid#d1d5db;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.9375rem;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.form-input.jsx-23214182e0f186a5:focus{outline:none;border-color:#6366f1;-webkit-box-shadow:0 0 0 3px rgba(99,102,241,.1);-moz-box-shadow:0 0 0 3px rgba(99,102,241,.1);box-shadow:0 0 0 3px rgba(99,102,241,.1)}.alert.jsx-23214182e0f186a5{padding:.875rem 1rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:.875rem;margin-bottom:1rem}.alert-error.jsx-23214182e0f186a5{background:#fef2f2;color:#991b1b;border:1px solid#fecaca}"}),r.jsx("div",{className:"jsx-23214182e0f186a5 modal-overlay",children:(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 modal-content",children:[(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 modal-header",children:[r.jsx("h2",{className:"jsx-23214182e0f186a5 modal-title",children:"Edit Customer"}),r.jsx("button",{onClick:s,className:"jsx-23214182e0f186a5 modal-close",children:r.jsx(b.Z,{size:20})})]}),(0,r.jsxs)("form",{onSubmit:y,className:"jsx-23214182e0f186a5",children:[(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 modal-body",children:[j&&r.jsx("div",{className:"jsx-23214182e0f186a5 alert alert-error",children:j}),(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 form-group",children:[r.jsx("label",{className:"jsx-23214182e0f186a5 form-label",children:"Full Name"}),r.jsx("input",{type:"text",value:i,onChange:e=>l(e.target.value),required:!0,className:"jsx-23214182e0f186a5 form-input"})]}),(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 form-group",children:[r.jsx("label",{className:"jsx-23214182e0f186a5 form-label",children:"Phone Number"}),r.jsx("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Optional",className:"jsx-23214182e0f186a5 form-input"})]}),(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 form-group",children:[r.jsx("label",{className:"jsx-23214182e0f186a5 form-label",children:"Email"}),r.jsx("input",{type:"email",value:c,onChange:e=>m(e.target.value),placeholder:"Optional",className:"jsx-23214182e0f186a5 form-input"})]}),(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 form-group",children:[r.jsx("label",{className:"jsx-23214182e0f186a5 form-label",children:"Address"}),r.jsx("input",{type:"text",value:x,onChange:e=>p(e.target.value),placeholder:"Optional",className:"jsx-23214182e0f186a5 form-input"})]})]}),(0,r.jsxs)("div",{className:"jsx-23214182e0f186a5 modal-footer",children:[r.jsx("button",{type:"button",onClick:s,disabled:f,className:"jsx-23214182e0f186a5 btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"jsx-23214182e0f186a5 btn btn-primary",children:f?"Updating...":"Update Customer"})]})]})]})})]}):null}function h(){let[e,s]=(0,a.useState)([]),[t,p]=(0,a.useState)(!0),[u,b]=(0,a.useState)(""),[h,j]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await fetch("/api/customers");if(e.ok){let t=await e.json();s(t)}}catch(e){console.error("Failed to fetch customers",e)}finally{p(!1)}},k=e=>{j(e),y(!0)},w=e.filter(e=>e.full_name.toLowerCase().includes(u.toLowerCase())||e.phone&&e.phone.toLowerCase().includes(u.toLowerCase())||e.email&&e.email.toLowerCase().includes(u.toLowerCase()));return(0,r.jsxs)("div",{style:{padding:"2rem"},children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"h3 mb-1",children:"Customer Management"}),r.jsx("p",{className:"text-muted",children:"Manage customer information and contacts"})]}),(0,r.jsxs)(x.default,{href:"/customers/add",className:"btn btn-primary",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1.25rem",fontSize:"0.9375rem",fontWeight:"500"},children:[r.jsx(o.Z,{size:18})," Add New Customer"]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,r.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.jsx(i.Z,{size:20,className:"text-primary"}),"All Customers"]}),(0,r.jsxs)("div",{style:{position:"relative",width:"300px"},children:[r.jsx(l.Z,{size:16,className:"text-muted",style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)"}}),r.jsx("input",{type:"text",placeholder:"Search customers...",value:u,onChange:e=>b(e.target.value),style:{width:"100%",padding:"0.5rem 1rem 0.5rem 2.5rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--border)",fontSize:"0.9rem"}})]})]}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{style:{background:"var(--background)",color:"var(--foreground-secondary)",fontSize:"0.85rem",textAlign:"left"},children:(0,r.jsxs)("tr",{children:[r.jsx("th",{style:{padding:"1rem",borderBottom:"1px solid var(--border)"},children:"Customer"}),r.jsx("th",{style:{padding:"1rem",borderBottom:"1px solid var(--border)"},children:"Contact"}),r.jsx("th",{style:{padding:"1rem",borderBottom:"1px solid var(--border)"},children:"Address"}),r.jsx("th",{style:{padding:"1rem",borderBottom:"1px solid var(--border)"},children:"Balance"}),r.jsx("th",{style:{padding:"1rem",borderBottom:"1px solid var(--border)"},children:"Actions"})]})}),r.jsx("tbody",{style:{fontSize:"0.95rem"},children:t?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4 text-center",children:"Loading customers..."})}):0===w.length?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-4 text-center text-muted",children:"No customers found"})}):w.map(e=>(0,r.jsxs)("tr",{style:{borderBottom:"1px solid var(--border)"},children:[r.jsx("td",{style:{padding:"1rem"},children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--surface-hover)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--primary)",fontWeight:"bold"},children:e.full_name.charAt(0)}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium",children:e.full_name}),(0,r.jsxs)("div",{className:"text-xs text-muted",children:["ID: ",e.customer_id]})]})]})}),(0,r.jsxs)("td",{style:{padding:"1rem"},children:[e.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(n.Z,{size:14,className:"text-muted"}),e.phone]}),e.email&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(d.Z,{size:14,className:"text-muted"}),e.email]}),!e.phone&&!e.email&&r.jsx("span",{className:"text-muted",children:"-"})]}),r.jsx("td",{style:{padding:"1rem"},children:e.address?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(c.Z,{size:14,className:"text-muted"}),e.address]}):r.jsx("span",{className:"text-muted",children:"-"})}),r.jsx("td",{style:{padding:"1rem"},children:(0,r.jsxs)("span",{style:{color:Number(e.balance)>0?"var(--success)":"inherit"},children:["$",Number(e.balance).toFixed(2)]})}),r.jsx("td",{style:{padding:"1rem"},children:r.jsx("button",{onClick:()=>k(e),className:"btn btn-icon btn-sm",title:"Edit Customer",children:r.jsx(m.Z,{size:16})})})]},e.customer_id))})]})]}),r.jsx(f,{isOpen:g,onClose:()=>y(!1),customer:h,onSuccess:()=>{v()}})]})}},71206:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},51838:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},28765:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},46327:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(69224).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},53909:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});let r=(0,t(86843).createProxy)(String.raw`C:\Users\mubar\Desktop\MADAR\app\customers\page.tsx`),{__esModule:a,$$typeof:o}=r,i=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1638,1747,5843,8092],()=>t(58766));module.exports=r})();