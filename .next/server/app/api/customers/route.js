"use strict";(()=>{var e={};e.id=9636,e.ids=[9636],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},98740:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>f,originalPathname:()=>j,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>g});var a={};t.r(a),t.d(a,{GET:()=>c,POST:()=>l});var o=t(95419),s=t(69108),n=t(99678),u=t(78070);let i=new(t(53524)).PrismaClient;async function c(e){try{let{searchParams:r}=new URL(e.url),t=r.get("search"),a={};t&&(a={OR:[{full_name:{contains:t}},{phone:{contains:t}},{email:{contains:t}}]});let o=await i.customer.findMany({where:a,take:20,orderBy:{full_name:"asc"}});return u.Z.json(o)}catch(e){return console.error("Error fetching customers:",e),u.Z.json({error:"Failed to fetch customers"},{status:500})}}async function l(e){try{let{full_name:r,phone:t,email:a,address:o}=await e.json();if(!r)return u.Z.json({error:"Full name is required"},{status:400});let s=await i.customer.create({data:{full_name:r,phone:t,email:a,address:o}});return u.Z.json(s,{status:201})}catch(e){return console.error("Error creating customer:",e),u.Z.json({error:"Failed to create customer"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/customers/route",pathname:"/api/customers",filename:"route",bundlePath:"app/api/customers/route"},resolvedPagePath:"C:\\Users\\mubar\\Desktop\\MADAR\\app\\api\\customers\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:f,staticGenerationBailout:g}=p,j="/api/customers/route";function v(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206],()=>t(98740));module.exports=a})();