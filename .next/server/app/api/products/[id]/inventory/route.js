"use strict";(()=>{var e={};e.id=5852,e.ids=[5852],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},45611:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>v,originalPathname:()=>y,patchFetch:()=>m,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>b});var n={};t.r(n),t.d(n,{GET:()=>u});var a=t(95419),o=t(69108),i=t(99678),c=t(78070);let s=new(t(53524)).PrismaClient;async function u(e,{params:r}){try{let e=parseInt(r.id);if(isNaN(e))return c.Z.json({error:"Invalid product ID"},{status:400});let t=(await s.inventory.findMany({where:{product_id:e},include:{branch:{select:{branch_id:!0,branch_name:!0,location:!0}}},orderBy:{branch:{branch_name:"asc"}}})).map(e=>({branchId:e.branch.branch_id,branchName:e.branch.branch_name,location:e.branch.location,quantity:e.quantity,reorderLevel:e.reorder_level,isLowStock:e.quantity<=e.reorder_level}));return c.Z.json(t)}catch(e){return console.error("Error fetching branch inventory:",e),c.Z.json({error:"Failed to fetch branch inventory"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/products/[id]/inventory/route",pathname:"/api/products/[id]/inventory",filename:"route",bundlePath:"app/api/products/[id]/inventory/route"},resolvedPagePath:"C:\\Users\\mubar\\Desktop\\MADAR\\app\\api\\products\\[id]\\inventory\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:h,headerHooks:v,staticGenerationBailout:b}=d,y="/api/products/[id]/inventory/route";function m(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[1638,6206],()=>t(45611));module.exports=n})();