exports.id=8092,exports.ids=[8092],exports.modules={59532:(e,t,s)=>{Promise.resolve().then(s.bind(s,79865)),Promise.resolve().then(s.bind(s,14980)),Promise.resolve().then(s.bind(s,41992))},58686:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},79865:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(95344);s(3729);var a=s(8428);function n({children:e,sidebar:t}){let s=(0,a.usePathname)();return"/login"===s||"/signup"===s?r.jsx("main",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:e}):(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[t,r.jsx("main",{className:"flex-1 ml-[280px] w-[calc(100%-280px)] min-h-screen transition-all duration-300",children:e})]})}},14980:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(95344),a=s(14513),n=s(98200),i=s(2273),l=s(12401),o=s(91917),c=s(37121),d=s(89895),x=s(13746),m=s(48120),h=s(3729),u=s(8428),f=s(56506);function p(){let[e,t]=(0,h.useState)(null),[s,f]=(0,h.useState)(!1),p=(0,u.useRouter)(),b=(0,u.usePathname)();(0,h.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Failed to fetch user info",e)}})()},[]),(0,h.useEffect)(()=>{f(!1)},[b]);let j=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),p.push("/login"),p.refresh()}catch(e){console.error("Logout failed",e)}},v=()=>{f(!s)};return(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{onClick:v,className:"hamburger-menu","aria-label":"Toggle menu",children:s?r.jsx(a.Z,{size:24}):r.jsx(n.Z,{size:24})}),r.jsx("div",{className:`mobile-overlay ${s?"active":""}`,onClick:v}),(0,r.jsxs)("aside",{className:`w-[280px] h-screen bg-white border-r border-gray-200 flex flex-col fixed left-0 top-0 z-50 shadow-lg ${s?"sidebar-mobile-shown":"sidebar-mobile-hidden"}`,children:[r.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center shadow-lg shadow-indigo-200",children:r.jsx("span",{className:"font-bold text-lg",children:"M"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight leading-none",children:"MADAR"}),r.jsx("p",{className:"text-xs text-gray-400 font-medium mt-1",children:"POS & Inventory"})]})]})}),(0,r.jsxs)("nav",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:[r.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-3 mt-2",children:"Main Menu"}),(0,r.jsxs)("ul",{className:"flex flex-col gap-1",children:[r.jsx(g,{href:"/",icon:r.jsx(i.Z,{size:20}),label:"Dashboard",active:"/"===b}),r.jsx(g,{href:"/sales",icon:r.jsx(l.Z,{size:20}),label:"Point of Sale",active:"/sales"===b}),r.jsx(g,{href:"/inventory",icon:r.jsx(o.Z,{size:20}),label:"Inventory",active:b.startsWith("/inventory")}),r.jsx(g,{href:"/reports",icon:r.jsx(c.Z,{size:20}),label:"Reports",active:b.startsWith("/reports")})]}),r.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mt-8 mb-4 px-3",children:"Management"}),(0,r.jsxs)("ul",{className:"flex flex-col gap-1",children:[r.jsx(g,{href:"/users",icon:r.jsx(d.Z,{size:20}),label:"Team Members",active:b.startsWith("/users")}),r.jsx(g,{href:"/branches",icon:r.jsx(o.Z,{size:20}),label:"Branches",active:b.startsWith("/branches")}),r.jsx(g,{href:"/customers",icon:r.jsx(d.Z,{size:20}),label:"Customers",active:b.startsWith("/customers")}),r.jsx(g,{href:"/settings",icon:r.jsx(x.Z,{size:20}),label:"Settings",active:b.startsWith("/settings")})]})]}),r.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:(0,r.jsxs)("button",{onClick:j,className:"flex items-center gap-3 w-full p-2.5 rounded-xl hover:bg-white border border-transparent hover:border-gray-200 transition-all text-left group hover:shadow-sm",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 overflow-hidden",children:e?r.jsx("div",{className:"w-full h-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-sm",children:e.full_name.charAt(0)}):r.jsx(d.Z,{size:18})}),(0,r.jsxs)("div",{className:"flex-1 overflow-hidden",children:[r.jsx("p",{className:"text-sm font-bold text-gray-800 truncate",children:e?e.full_name:"Loading..."}),r.jsx("p",{className:"text-xs text-gray-500 truncate capitalize",children:e?e.role:"..."})]}),r.jsx(m.Z,{size:16,className:"text-gray-400 group-hover:text-rose-500 transition-colors"})]})})]})]})}function g({icon:e,label:t,href:s,active:a}){return r.jsx("li",{children:(0,r.jsxs)(f.default,{href:s,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium text-[0.95rem] group relative overflow-hidden ${a?"bg-indigo-50 text-indigo-600 shadow-sm":"text-gray-500 hover:bg-gray-50 hover:text-gray-900"}`,children:[a&&r.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-indigo-600 rounded-r-full"}),r.jsx("span",{className:a?"text-indigo-600":"group-hover:text-gray-800",children:e}),r.jsx("span",{children:t})]})})}},41992:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(95344),a=s(3729);function n(){let[e,t]=(0,a.useState)(!0),[s,n]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.error("Service Worker registration failed:",e)});let e=()=>t(!0),s=()=>t(!1);window.addEventListener("online",e),window.addEventListener("offline",s),t(navigator.onLine);let r=e=>{e.preventDefault(),l(e),n(!0)};return window.addEventListener("beforeinstallprompt",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s),window.removeEventListener("beforeinstallprompt",r)}},[]);let o=async()=>{if(!i)return;i.prompt();let{outcome:e}=await i.userChoice;console.log(`User response to install prompt: ${e}`),l(null),n(!1)};return(0,r.jsxs)(r.Fragment,{children:[!e&&(0,r.jsxs)("div",{className:"offline-indicator",children:[r.jsx("svg",{className:"inline-block w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),"You're offline - Changes will sync when connection is restored"]}),s&&(0,r.jsxs)("div",{className:"pwa-install-prompt",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Install MADAR POS"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Install the app for quick access and offline use"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:o,className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Install"}),r.jsx("button",{onClick:()=>{n(!1),l(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"Not now"})]})]})]})}},59515:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b,metadata:()=>g});var r=s(25036);s(67272);var a=s(86843);let n=(0,a.createProxy)(String.raw`C:\Users\mubar\Desktop\MADAR\components\layout\AppShell.tsx`),{__esModule:i,$$typeof:l}=n,o=n.default,c=(0,a.createProxy)(String.raw`C:\Users\mubar\Desktop\MADAR\components\layout\Sidebar.tsx`),{__esModule:d,$$typeof:x}=c,m=c.default;s(40002);let h=(0,a.createProxy)(String.raw`C:\Users\mubar\Desktop\MADAR\components\pwa\PWAHandler.tsx`),{__esModule:u,$$typeof:f}=h,p=h.default,g={title:"MADAR POS - Point of Sale System",description:"Modern Point of Sale System with Offline Capability",manifest:"/manifest.json",themeColor:"#4F46E5",appleWebApp:{capable:!0,statusBarStyle:"default",title:"MADAR POS"},viewport:{width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover"}};function b({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("link",{rel:"manifest",href:"/manifest.json"}),r.jsx("meta",{name:"theme-color",content:"#4F46E5"}),r.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),r.jsx("meta",{name:"apple-mobile-web-app-title",content:"MADAR POS"}),r.jsx("link",{rel:"apple-touch-icon",href:"/icon-192.png"})]}),(0,r.jsxs)("body",{className:"flex",children:[r.jsx(p,{}),r.jsx(o,{sidebar:r.jsx(m,{}),children:e})]})]})}},67272:()=>{}};